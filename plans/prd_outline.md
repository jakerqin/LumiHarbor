# 拾光坞 (LumiHarbor) - 个人与家庭足迹记忆管理系统 PRD

## 1. 项目愿景 (Project Vision)
**拾光坞 (LumiHarbor)** 旨在打造一个安全、私有且智能的家庭记忆中心。正如其名，它是一个收集时光碎片（拾光）并将记忆安全归航的港口（Harbor）。通过多模态资源管理、叙事化的时光轴和扁平化的家庭协作机制，记录并跨代传承家庭的点滴成长。

---

## 2. 核心模块需求 (Core Requirements)

### 2.1 多模态资源管理 (Multimodal Asset Management)
*   **资源接入**：支持图片、视频、音频及文档。自动提取 EXIF 信息及 GPS 经纬度。
*   **智能 AI 引擎**：
    *   **人脸聚类**：本地化识别并聚合家庭成员。
    *   **语义标签**：自动识别场景、物体及 OCR 文本。
    *   **智能去重**：利用感知哈希识别相似资源。
*   **组织体系**：
    *   **无限存储感官**：不对成员设置存储限额，全量利用 NAS 空间。
    *   **动态相册**：基于 AI 规则自动汇聚（如：2023年+北京+家庭旅行）。

### 2.2 笔记与叙事系统 (Notes & Narratives)
*   **创作体验**：支持 Markdown 与富文本。
*   **全员共享流**：所有笔记默认对全家成员可见，促进情感互动。
*   **所有权规则**：遵循“**谁创作，谁拥有**”原则，仅作者本人拥有修改和删除权限。
*   **时光轴 (Timeline)**：将笔记、照片、大事记混合排列，支持“那年今日”记忆唤醒。

### 2.3 家庭权限与协作架构
*   **扁平化角色设计**：
    *   **Admin (管理员)**：系统维护、用户邀请。
    *   **Member (家庭成员)**：完整上传权限，默认共享，独立编辑权。
    *   **Guest (访客)**：受邀查看。
*   **存储逻辑**：不进行配额限制，充分利用物理磁盘。

### 2.4 交互与用户体验
*   **地图模式 (Map View)**：基于地理位置的资源筛选与足迹展示。
*   **日历视图 (Calendar)**：展示内容产出量及重要纪念日。
*   **全局搜索 (Omnisearch)**：支持关键字、日期、地点、AI 标签、人物的联合搜索。

---

## 3. 技术架构建议 (Technical Architecture)

### 3.1 核心技术栈
*   **前端**：**Next.js** (核心利用其 `next/image` 图片优化与 SSR 首屏加载)。
*   **后端**：**FastAPI (Python)** (集成 AI 处理库)。
*   **数据库**：PostgreSQL (元数据) + Meilisearch (搜索) + Chroma (向量检索)。
*   **部署**：Docker Compose 私有化部署。

---

## 4. 品牌核心价值
1.  **安全归航**：基于 NAS 的绝对隐私。
2.  **拾光叙事**：AI 驱动的智能连接。
3.  **连接未来**：跨代传承的情感资产。
