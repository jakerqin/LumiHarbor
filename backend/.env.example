# ===========================
# 拾光坞 (LumiHarbor) 环境变量配置示例
# ===========================
# 使用说明：
# 1. 复制此文件为 .env
# 2. 根据你的实际环境修改配置值

# ==================== 数据库配置 ====================
# MySQL 数据库连接字符串
# 格式: mysql+pymysql://用户名:密码@主机:端口/数据库名?charset=utf8mb4
DATABASE_URL=mysql+pymysql://root:root@localhost:3306/lumiharbor?charset=utf8mb4

# ==================== NAS 数据路径 ====================
# 照片/视频存储的根目录路径
# 开发环境示例: /Users/your_username/Pictures
# NAS 环境示例: /mnt/nas/Photos 或 /Volumes/your_nas/Photos
NAS_DATA_PATH=/path/to/your/photos

# ==================== 安全配置 ====================
# JWT 密钥（用于用户认证）
# 生成方法: openssl rand -hex 32
SECRET_KEY=your-secret-key-change-me-to-random-string

# 加密算法
ALGORITHM=HS256

# Token 过期时间（分钟）
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ==================== 项目配置 ====================
# 项目名称
PROJECT_NAME=拾光坞 (LumiHarbor)

# ==================== 对外访问配置 ====================
# 后端对外访问的固定域名（用于生成素材 original_url/thumbnail_url）
# 开发环境示例: http://localhost:8000
# 生产环境示例: https://api.example.com
PUBLIC_BASE_URL=http://localhost:8000

# 本地媒体文件静态访问前缀（FastAPI StaticFiles 挂载路径）
MEDIA_BASE_PATH=/media

# 素材 URL 生成策略（可扩展）：local | oss
ASSET_URL_PROVIDER=local

# 当 ASSET_URL_PROVIDER=oss 时必填（可为 OSS/CDN 域名）
OSS_PUBLIC_BASE_URL=

# ==================== Redis 配置====================
# Redis 配置（用于异步任务队列）
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=  # 如果设置了密码，填写密码

# ==================== Taskiq Worker 配置 ====================
# 是否自动启动 Worker（开发环境建议 true，生产环境建议 false）
AUTO_START_WORKER=true

# Worker 进程数量（建议设置为 CPU 核心数，开发环境可设置为 2）
WORKER_COUNT=2

# 日志级别（INFO, WARNING, DEBUG, ERROR, CRITICAL）
LOG_LEVEL=INFO

# ==================== Docker 环境变量（仅 Docker 部署时使用）====================
# MySQL 配置
MYSQL_ROOT_PASSWORD=your_mysql_root_password
MYSQL_DATABASE=lumiharbor
MYSQL_USER=admin
MYSQL_PASSWORD=your_mysql_password
